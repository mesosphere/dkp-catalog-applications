displayName: Spark Operator
description: Spark Operator uses Kubernetes custom resources for specifying, running, and surfacing status of Spark applications.
allowMultipleInstances: false
category:
  - Data Services
certifications:
  - certified
  - airgapped
scope:
  - workspace
overview: |-
  ## Overview
  Apache Spark is a fast and general-purpose cluster computing system for big data. It provides high-level APIs in Scala, Java, Python, and R, and an optimized engine that supports general computation graphs for data analysis. It also supports a rich set of higher-level tools including: Spark SQL for SQL and DataFrames, MLlib for machine learning, GraphX for graph processing, and Spark Streaming for stream processing.

  The Kubernetes Operator for Apache Spark aims to make specifying and running Spark applications as easy and idiomatic as running other workloads on Kubernetes. It uses Kubernetes custom resources for specifying, running, and surfacing status of Spark applications. For a complete reference of the custom resource definitions, please refer to the API Definition. For details on its design, please refer to the design doc. It requires Spark 2.3 and above that supports Kubernetes as a native scheduler backend.

  **Note: Only install the Spark operator once per workspace.**

  The Kubernetes Operator for Apache Spark currently supports the following list of features:

  - Supports Spark 2.3 and up.
  - Enables declarative application specification and management of applications through custom resources.
  - Automatically runs spark-submit on behalf of users for each SparkApplication eligible for submission.
  - Provides native cron support for running scheduled applications.
  - Supports customization of Spark pods beyond what Spark natively is able to do through the mutating admission webhook, e.g., mounting ConfigMaps and volumes, and setting pod affinity/anti-affinity.
  - Supports automatic application re-submission for updated SparkApplication objects with updated specification.
  - Supports automatic application restart with a configurable restart policy.
  - Supports automatic retries of failed submissions with optional linear back-off.
  - Supports mounting local Hadoop configuration as a Kubernetes ConfigMap automatically via sparkctl.
  - Supports automatically staging local application dependencies to Google Cloud Storage (GCS) via sparkctl.
  - Supports collecting and exporting application-level metrics and driver/executor metrics to Prometheus.

  ## More Information
  - [Spark Operator Documentation](https://github.com/mesosphere/spark-on-k8s-operator/blob/d2iq-master/README.md)
  - [Spark Documentation](https://spark.apache.org/docs/latest/)

icon: PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0ibGF5ZXIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNjUyIDY1MiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNjUyIDY1MjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCgkuc3Qwe2ZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6I0UxNkIyNjt9DQoJLnN0MXtmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiM0MzQyNDM7fQ0KCS5zdDJ7ZmlsbDojNDM0MjQzO30NCjwvc3R5bGU+DQo8Zz4NCgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNTc0LjEsMzI3LjdjLTAuNS0xLjEtMC44LTEuNy0xLTIuMmMtNy41LTE0LjMtMTUtMjguNi0yMi42LTQyLjhjLTAuOC0xLjQtMC43LTIuMywwLjQtMy41DQoJCWMxMi0xNCwyMy45LTI4LDM1LjgtNDJjMC40LTAuNSwwLjgtMSwxLTEuOWMtMy41LDAuOS03LDEuOC0xMC40LDIuN2MtMTQuNCwzLjgtMjguOSw3LjYtNDMuMywxMS41Yy0xLjQsMC40LTIsMC0yLjYtMS4xDQoJCWMtOC4yLTEzLjctMTYuNS0yNy40LTI0LjctNDEuMWMtMC40LTAuNy0wLjktMS40LTEuOC0yYy0wLjcsMy43LTEuMyw3LjMtMiwxMWMtMi4zLDEyLjktNC42LDI1LjgtNi45LDM4LjcNCgkJYy0wLjIsMS40LTAuNiwyLjgtMC43LDQuMmMtMC4xLDEuMy0wLjgsMS44LTIsMi4yYy0xNyw1LjMtMzQsMTAuNy01MSwxNi4xYy0wLjcsMC4yLTEuNSwwLjUtMi4zLDEuM2MxMy45LDUuNSwyNy44LDExLjEsNDIsMTYuNw0KCQljLTAuNSwwLjQtMC44LDAuNy0xLjIsMWMtOC43LDUuNi0xNy40LDExLjItMjYuMSwxNi45Yy0xLDAuNy0xLjksMC44LTMsMC4yYy0xMC40LTQuNy0yMC44LTkuMy0zMS4yLTEzLjkNCgkJYy00LjctMi4xLTguOS00LjktMTIuMi04LjljLTcuNC05LjEtNS45LTE5LjMsMy45LTI1LjZjMy4yLTIuMSw2LjktMy42LDEwLjUtNC44YzE2LjctNS40LDMzLjQtMTAuNyw1MC4xLTE1LjkNCgkJYzEuNC0wLjQsMi4xLTEuMSwyLjMtMi42YzIuMi0xMi45LDQuNS0yNS44LDYuOS0zOC43YzEuMi02LjksMS45LTE0LDUuMy0yMC4zYzEuMy0yLjQsMi44LTQuOCw0LjctNi44YzYuNi03LjQsMTUuOS03LjcsMjIuOS0wLjYNCgkJYzIuNCwyLjQsNC40LDUuMiw2LjIsOGM3LjcsMTIuNiwxNS4zLDI1LjMsMjIuOSwzOGMwLjksMS41LDEuNywxLjgsMy40LDEuNGMxOC43LTUsMzcuMy05LjksNTYtMTQuOWMzLjgtMSw3LjctMS40LDExLjctMC43DQoJCWM4LjYsMS42LDEyLjQsOC4yLDkuNSwxNi41Yy0xLjMsMy44LTMuNiw3LTYuMiwxMGMtMTMsMTUuMy0yNiwzMC43LTM5LjEsNDZjLTEuMSwxLjItMS4xLDIuMi0wLjQsMy41DQoJCWM3LjgsMTQuNywxNS41LDI5LjQsMjMuMyw0NC4yYzEuOSwzLjUsMy4zLDcuMiwzLjMsMTEuMmMwLjEsOS4yLTYuNiwxNi43LTE1LjgsMTguMWMtNS4xLDAuNy05LjktMC4zLTE0LjctMS44DQoJCWMtMTEuNy0zLjYtMjMuNC03LjItMzUuMS0xMC43Yy0xLjEtMC4zLTEuNS0wLjgtMS43LTEuOWMtMS4zLTguMi0yLjgtMTYuNS00LjItMjQuN2MwLTAuMiwwLTAuNSwwLjEtMQ0KCQlDNTQ3LjEsMzIwLjMsNTYwLjMsMzIzLjksNTc0LjEsMzI3LjciLz4NCgk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNNTUxLjMsNDQ3LjljLTEwLjYsMC0yMS4xLTAuMS0zMS43LDBjLTEuNCwwLTIuMi0wLjQtMy0xLjZjLTEyLjUtMTktMjUtMzgtMzcuNi01N2MtMC40LTAuNi0wLjgtMS4yLTEuNS0yLjINCgkJYy0yLjcsMjAuNS01LjMsNDAuNi04LDYwLjdINDQyYzAuMy0yLjcsMC42LTUuMywwLjktNy45YzIuNy0yMC42LDUuNC00MS4yLDguMS02MS44YzIuNi0xOS43LDUuMi0zOS40LDcuOC01OQ0KCQljMC4xLTAuNiwwLjUtMS4zLDEtMS42YzkuNS02LjIsMTktMTIuMywyOC42LTE4LjVjMC4xLTAuMSwwLjMtMC4xLDAuOC0wLjJjLTIuOSwyMi01LjgsNDMuOC04LjYsNjUuN2MwLjEsMC4xLDAuMiwwLjIsMC4zLDAuMg0KCQljMTUtMTYuNiwyOS45LTMzLjIsNDUuMi01MC4xYzAuNCwyLjYsMC44LDQuNywxLjIsNi45YzEuMSw2LjMsMi4xLDEyLjUsMy4yLDE4LjhjMC4yLDEuMy0wLjEsMi0wLjksMi45DQoJCWMtOS43LDEwLjEtMTkuMywyMC4zLTI5LDMwLjRjLTAuNCwwLjQtMC44LDAuOS0xLjMsMS40YzAuMywwLjUsMC42LDEsMC45LDEuNGMxNi42LDIzLjQsMzMuMyw0Ni43LDUwLDcwLjENCgkJYzAuMywwLjQsMC43LDAuOCwxLjEsMS4xVjQ0Ny45eiIvPg0KCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xNTAuOCw0NDAuMmMtMC44LDYuMS0xLjYsMTEuOS0yLjQsMTcuN2MtMSw3LjctMiwxNS40LTMsMjMuMWMtMC4xLDAuOS0wLjQsMS4zLTEuNCwxLjNjLTcuNiwwLTE1LjIsMC0yMi44LDANCgkJYy0wLjIsMC0wLjMtMC4xLTAuOC0wLjJjMC41LTMuNiwwLjktNy4zLDEuNC0xMC45YzEuNy0xMi44LDMuMy0yNS41LDUtMzguM2MxLjktMTQuNiwzLjUtMjkuMyw2LTQzLjgNCgkJYzQuNC0yNS43LDI2LjItNDcuOCw1MS44LTUzLjNjMTQuOC0zLjIsMjktMS43LDQyLDYuNmMxMi45LDguMywyMC4zLDIwLjQsMjIsMzUuNmMyLjQsMjEuNS01LjUsMzkuMy0yMC44LDU0DQoJCWMtMTAsOS43LTIyLDE1LjgtMzUuOCwxNy45Yy0xNC4yLDIuMS0yNy42LTAuMi0zOS42LTguNkMxNTIsNDQxLDE1MS41LDQ0MC43LDE1MC44LDQ0MC4yIE0yMjMuOCwzODcuMmMtMC40LTIuMi0wLjctNS4zLTEuNy04LjMNCgkJYy00LjYtMTQuMy0xOS4zLTIyLjEtMzQuNC0xOC42Yy0xNi42LDMuOS0yOC41LDE2LjktMzAuMiwzMy45Yy0xLjMsMTIuNiw1LjUsMjQuNiwxOC4xLDI5LjJjMTAuMSwzLjcsMTkuOSwyLjEsMjguOS0zLjMNCgkJQzIxNi41LDQxMi45LDIyMyw0MDIuMywyMjMuOCwzODcuMiIvPg0KCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xMzguNCwzMTguMmMtOC41LDYuMy0xNi43LDEyLjQtMjUsMTguNmMtMS4zLTIuMS0yLjUtNC4yLTMuOS02LjFjLTMuNi01LTgtOC43LTE0LjUtOS4yDQoJCWMtNS40LTAuNC0xMCwxLjQtMTMuNiw1LjNjLTMuMywzLjUtMy43LDguNi0wLjYsMTIuNmMzLjQsNC40LDcsOC42LDEwLjgsMTIuN2M2LjIsNi44LDEyLjgsMTMuMywxOC45LDIwDQoJCWM1LjYsNi4yLDEwLjEsMTMuMSwxMS41LDIxLjZjMS42LDEwLTAuNCwxOS42LTUuMSwyOC40Yy04LjgsMTYuMy0yMi42LDI1LjgtNDAuOSwyOC44Yy04LjEsMS4zLTE2LjEsMS0yNC0xLjMNCgkJYy0xMC41LTMuMS0xNy43LTkuOS0yMi40LTE5LjZjLTEuNy0zLjQtMi45LTctNC40LTEwLjdjOS4yLTQuOSwxOC05LjcsMjcuMS0xNC41YzAuMywwLjgsMC41LDEuNCwwLjgsMmMxLjUsMy4xLDIuOCw2LjQsNC43LDkuMg0KCQljNS43LDguNCwxNC44LDExLDI0LDYuOGMyLjQtMS4xLDQuNy0yLjYsNi42LTQuM2M2LTUuMyw3LjEtMTIuNywyLjctMTkuM2MtMi41LTMuOC01LjctNy4zLTguOC0xMC43Yy03LjQtOC4yLTE1LjEtMTYuMS0yMi4zLTI0LjUNCgkJYy01LTUuOC04LjMtMTIuNS05LjQtMjAuMmMtMS4yLTguNCwwLjUtMTYuNCw0LjktMjMuNGMxMC45LTE3LjYsMjYuNy0yNi44LDQ3LjYtMjZjMTEuOSwwLjQsMjEuNCw2LDI4LjgsMTUuMw0KCQlDMTM0LjEsMzEyLjQsMTM2LjIsMzE1LjIsMTM4LjQsMzE4LjIiLz4NCgk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMzQwLjUsNDEyLjdjLTEuNCwxMC42LTIuNywyMC43LTQuMSwzMC44Yy0wLjEsMC41LTAuNSwxLjItMC45LDEuNGMtMjAuNiw5LjUtNDcuNyw4LjItNjQuNi0xMQ0KCQljLTkuMS0xMC4zLTEyLjktMjIuNi0xMi4zLTM2LjJjMS4zLTMxLjUsMjcuNS01OS4xLDU4LjctNjIuOWMxOC4zLTIuMiwzNC4zLDIuNyw0Ni43LDE2LjljOC40LDkuNywxMi4zLDIxLjIsMTEuOCwzMy45DQoJCWMtMC40LDguNC0xLjcsMTYuOC0yLjgsMjUuMmMtMS41LDExLjktMy4xLDIzLjctNC43LDM1LjZjLTAuMSwwLjQtMC4xLDAuOC0wLjIsMS40aC0yNC42YzAuMy0yLjcsMC42LTUuNCwxLTguMQ0KCQljMS44LTEzLjcsMy43LTI3LjQsNS4zLTQxLjFjMS04LjUsMC40LTE3LTMuNS0yNC45Yy00LjEtOC40LTExLjEtMTIuOS0yMC4zLTEzLjhjLTE5LTItMzcsMTEuMi00MS4xLDI5LjgNCgkJYy0yLjcsMTIuMywxLjUsMjQuMSwxMS40LDMwLjdjOS42LDYuNCwxOS44LDYuNCwzMC4yLDIuM0MzMzEuNyw0MjAuNSwzMzYuMiw0MTcuMiwzNDAuNSw0MTIuNyIvPg0KCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik00NDQuMiwzMzcuMmMtMS4xLDguNS0yLjIsMTctMy40LDI1LjVjLTUuMiwwLTEwLjMsMC0xNS40LDBjLTQuMSwwLTcuOSwyLjctOS4yLDYuNmMtMC41LDEuNS0wLjcsMy4xLTAuOSw0LjcNCgkJYy0yLjYsMTkuNi01LjIsMzkuMi03LjcsNTguOGMtMC43LDQuOS0xLjMsOS45LTEuOSwxNC45aC0yNS42YzAuNS0zLjgsMC45LTcuNCwxLjQtMTEuMWMxLjctMTIuNywzLjMtMjUuNCw1LTM4LjENCgkJYzEuNS0xMSwyLjgtMjIsNC41LTMzYzIuMy0xNC43LDE2LjktMjcuNywzMS43LTI4LjRDNDI5LjgsMzM2LjksNDM2LjksMzM3LjIsNDQ0LjIsMzM3LjIiLz4NCgk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNTYyLjcsNDM2LjV2MTEuMmgtMi4xdi0xMS4yaC00LjF2LTEuN2gxMC4zdjEuN0g1NjIuN3ogTTU4MS41LDQ0Ny44di0xMC44aC0wLjFsLTQuMywxMC44aC0xLjRsLTQuMi0xMC44DQoJCWgtMC4xdjEwLjhoLTIuMXYtMTNoMy4zbDMuOSw5LjlsMy44LTkuOWgzLjN2MTNINTgxLjV6Ii8+DQoJPHBhdGggY2xhc3M9InN0MiIgZD0iTTE4MC4xLDMwNi4yaC0xMC42bC0zLjQsNi42aC03LjVsMTYuNS0zMC45aDcuMmw1LjYsMzAuOWgtNi45TDE4MC4xLDMwNi4yeiBNMTcyLjgsMzAwaDYuNGwtMS41LTkuNg0KCQlMMTcyLjgsMzAweiIvPg0KCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0yMDguOCwyODEuOWg5LjljNS4yLDAsOC44LDMuMSw4LjgsOC40YzAsNi43LTQuNywxMS4yLTExLjQsMTEuMmgtNC4zbC0yLDExLjNoLTYuNEwyMDguOCwyODEuOXogTTIxOCwyODguMQ0KCQloLTMuOGwtMS4zLDcuMWgzLjhjMi4zLDAsNC4xLTEuNSw0LjEtNC4zQzIyMC44LDI4OS4xLDIxOS42LDI4OC4xLDIxOCwyODguMSIvPg0KCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0yNTYuOCwzMDYuMmgtMTAuNmwtMy40LDYuNmgtNy41bDE2LjUtMzAuOWg3LjJsNS42LDMwLjloLTYuOUwyNTYuOCwzMDYuMnogTTI0OS40LDMwMGg2LjRsLTEuNS05LjYNCgkJTDI0OS40LDMwMHoiLz4NCgk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNMjk4LjYsMzExLjdjLTIuMiwxLTQuNiwxLjYtNywxLjZjLTguMiwwLTEzLjMtNi4xLTEzLjMtMTMuOGMwLTkuOCw4LjMtMTguMSwxOC4xLTE4LjFjMi41LDAsNC43LDAuNiw2LjUsMS42DQoJCWwtMC45LDcuNGMtMS40LTEuNS0zLjUtMi41LTYuMy0yLjVjLTUuNiwwLTEwLjYsNS4xLTEwLjYsMTFjMCw0LjUsMi44LDgsNy4zLDhjMi43LDAsNS40LTEsNy4xLTIuNUwyOTguNiwzMTEuN3oiLz4NCgk8cG9seWdvbiBjbGFzcz0ic3QyIiBwb2ludHM9IjMzOCwzMDAuMyAzMjQuNiwzMDAuMyAzMjIuNCwzMTIuOCAzMTUuOSwzMTIuOCAzMjEuNCwyODEuOSAzMjcuOCwyODEuOSAzMjUuNywyOTQuMSAzMzkuMSwyOTQuMSANCgkJMzQxLjMsMjgxLjkgMzQ3LjcsMjgxLjkgMzQyLjMsMzEyLjggMzM1LjgsMzEyLjggCSIvPg0KCTxwb2x5Z29uIGNsYXNzPSJzdDIiIHBvaW50cz0iMzYxLjYsMzEyLjggMzY3LjEsMjgxLjkgMzg0LjIsMjgxLjkgMzgzLjEsMjg4LjEgMzcyLjQsMjg4LjEgMzcxLjQsMjk0LjEgMzgxLjIsMjk0LjEgMzgwLjEsMzAwLjMgDQoJCTM3MC4zLDMwMC4zIDM2OS4yLDMwNi42IDM3OS45LDMwNi42IDM3OC44LDMxMi44IAkiLz4NCjwvZz4NCjwvc3ZnPg0K
